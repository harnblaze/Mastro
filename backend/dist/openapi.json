{
  "openapi": "3.0.0",
  "paths": {
    "/api/v1": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/api/v1/health": {
      "get": {
        "operationId": "AppController_getHealth",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/api/v1/auth/vk": {
      "post": {
        "operationId": "AuthController_vkAuth",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VkAuthDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успешная авторизация"
          },
          "401": {
            "description": "Неверные данные"
          }
        },
        "summary": "VK авторизация",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Успешный вход"
          },
          "401": {
            "description": "Неверные учетные данные"
          }
        },
        "summary": "Вход в систему",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "operationId": "AuthController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Пользователь создан"
          },
          "400": {
            "description": "Неверные данные"
          }
        },
        "summary": "Регистрация пользователя",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/auth/profile": {
      "get": {
        "operationId": "AuthController_getProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Профиль пользователя"
          },
          "401": {
            "description": "Не авторизован"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Получить профиль пользователя",
        "tags": [
          "Authentication"
        ]
      }
    },
    "/api/v1/businesses": {
      "post": {
        "operationId": "BusinessController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBusinessDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Бизнес создан"
          },
          "400": {
            "description": "Неверные данные"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Создать бизнес",
        "tags": [
          "Business"
        ]
      },
      "get": {
        "operationId": "BusinessController_findAllByOwner",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Список бизнесов"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Получить все бизнесы владельца",
        "tags": [
          "Business"
        ]
      }
    },
    "/api/v1/businesses/{id}": {
      "get": {
        "operationId": "BusinessController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID бизнеса",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Бизнес найден"
          },
          "404": {
            "description": "Бизнес не найден"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Получить бизнес по ID",
        "tags": [
          "Business"
        ]
      },
      "patch": {
        "operationId": "BusinessController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID бизнеса",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBusinessDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Бизнес обновлен"
          },
          "404": {
            "description": "Бизнес не найден"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Обновить бизнес",
        "tags": [
          "Business"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/services": {
      "post": {
        "operationId": "ServicesController_create",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateServiceDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Services"
        ]
      },
      "get": {
        "operationId": "ServicesController_findAll",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Services"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/services/{id}": {
      "get": {
        "operationId": "ServicesController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Services"
        ]
      },
      "patch": {
        "operationId": "ServicesController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateServiceDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Services"
        ]
      },
      "delete": {
        "operationId": "ServicesController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Services"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/staff": {
      "post": {
        "operationId": "StaffController_create",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStaffDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Staff"
        ]
      },
      "get": {
        "operationId": "StaffController_findAll",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Staff"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/staff/{id}": {
      "get": {
        "operationId": "StaffController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Staff"
        ]
      },
      "patch": {
        "operationId": "StaffController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStaffDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Staff"
        ]
      },
      "delete": {
        "operationId": "StaffController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Staff"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/bookings": {
      "post": {
        "operationId": "BookingsController_create",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBookingDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Bookings"
        ]
      },
      "get": {
        "operationId": "BookingsController_findAll",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "from",
            "required": false,
            "in": "query",
            "description": "Дата начала периода (ISO строка)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "required": false,
            "in": "query",
            "description": "Дата окончания периода (ISO строка)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "staffId",
            "required": false,
            "in": "query",
            "description": "ID сотрудника",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Статус записи",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "CONFIRMED",
                "CANCELLED",
                "COMPLETED",
                "NO_SHOW"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Bookings"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/bookings/available-slots": {
      "get": {
        "operationId": "BookingsController_getAvailableSlots",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "serviceId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "staffId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Bookings"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/bookings/{id}": {
      "get": {
        "operationId": "BookingsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Bookings"
        ]
      },
      "patch": {
        "operationId": "BookingsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateBookingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Bookings"
        ]
      },
      "delete": {
        "operationId": "BookingsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Bookings"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/notifications": {
      "post": {
        "operationId": "NotificationsController_create",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateNotificationDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Notifications"
        ]
      },
      "get": {
        "operationId": "NotificationsController_findAll",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "bookingId",
            "required": false,
            "in": "query",
            "description": "ID записи",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Тип уведомления",
            "schema": {
              "type": "string",
              "enum": [
                "SMS",
                "EMAIL",
                "VK"
              ]
            }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Статус уведомления",
            "schema": {
              "type": "string",
              "enum": [
                "PENDING",
                "SENT",
                "FAILED"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/notifications/{id}": {
      "get": {
        "operationId": "NotificationsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/notifications/{id}/resend": {
      "post": {
        "operationId": "NotificationsController_resend",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Notifications"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/clients": {
      "post": {
        "operationId": "ClientsController_create",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateClientDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      },
      "get": {
        "operationId": "ClientsController_findAll",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/clients/{id}": {
      "get": {
        "operationId": "ClientsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      },
      "patch": {
        "operationId": "ClientsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateClientDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      },
      "delete": {
        "operationId": "ClientsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Clients"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/notification-templates": {
      "get": {
        "operationId": "NotificationTemplatesController_getTemplates",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "NotificationTemplates"
        ]
      },
      "post": {
        "operationId": "NotificationTemplatesController_createTemplate",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateNotificationTemplateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "NotificationTemplates"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/notification-templates/variables": {
      "get": {
        "operationId": "NotificationTemplatesController_getAvailableVariables",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "NotificationTemplates"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/notification-templates/{templateId}": {
      "get": {
        "operationId": "NotificationTemplatesController_getTemplate",
        "parameters": [
          {
            "name": "templateId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "NotificationTemplates"
        ]
      },
      "patch": {
        "operationId": "NotificationTemplatesController_updateTemplate",
        "parameters": [
          {
            "name": "templateId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateNotificationTemplateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "NotificationTemplates"
        ]
      },
      "delete": {
        "operationId": "NotificationTemplatesController_deleteTemplate",
        "parameters": [
          {
            "name": "templateId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "NotificationTemplates"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/notification-templates/{templateId}/process": {
      "post": {
        "operationId": "NotificationTemplatesController_processTemplate",
        "parameters": [
          {
            "name": "templateId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "NotificationTemplates"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/availability": {
      "get": {
        "operationId": "AvailabilityController_getAvailability",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "date",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "serviceId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "staffId",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Availability"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/availability/exceptions": {
      "get": {
        "operationId": "AvailabilityController_getExceptions",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "from",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "to",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Availability"
        ]
      },
      "post": {
        "operationId": "AvailabilityController_createException",
        "parameters": [
          {
            "name": "businessId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "201": {
            "description": ""
          }
        },
        "tags": [
          "Availability"
        ]
      }
    },
    "/api/v1/businesses/{businessId}/availability/exceptions/{exceptionId}": {
      "delete": {
        "operationId": "AvailabilityController_deleteException",
        "parameters": [
          {
            "name": "exceptionId",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Availability"
        ]
      }
    }
  },
  "info": {
    "title": "Mastro API",
    "description": "API для системы управления записями",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "VkAuthDto": {
        "type": "object",
        "properties": {
          "vkToken": {
            "type": "string",
            "description": "VK токен для авторизации"
          }
        },
        "required": [
          "vkToken"
        ]
      },
      "LoginDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email пользователя"
          },
          "password": {
            "type": "string",
            "description": "Пароль пользователя"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "CreateUserDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "Email пользователя"
          },
          "password": {
            "type": "string",
            "description": "Пароль пользователя"
          },
          "vkId": {
            "type": "string",
            "description": "VK ID пользователя"
          },
          "role": {
            "type": "string",
            "description": "Роль пользователя",
            "enum": [
              "OWNER",
              "STAFF"
            ]
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "CreateBusinessDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Название бизнеса",
            "maxLength": 100
          },
          "address": {
            "type": "string",
            "description": "Адрес бизнеса",
            "maxLength": 500
          },
          "timezone": {
            "type": "string",
            "description": "Часовой пояс"
          },
          "phone": {
            "type": "string",
            "description": "Телефон"
          },
          "email": {
            "type": "string",
            "description": "Email"
          },
          "website": {
            "type": "string",
            "description": "Веб-сайт"
          },
          "description": {
            "type": "string",
            "description": "Описание бизнеса"
          },
          "workingHours": {
            "type": "object",
            "description": "Рабочие часы"
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateBusinessDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Название бизнеса"
          },
          "address": {
            "type": "string",
            "description": "Адрес бизнеса",
            "maxLength": 500
          },
          "timezone": {
            "type": "string",
            "description": "Часовой пояс"
          },
          "phone": {
            "type": "string",
            "description": "Телефон"
          },
          "email": {
            "type": "string",
            "description": "Email"
          },
          "website": {
            "type": "string",
            "description": "Веб-сайт"
          },
          "description": {
            "type": "string",
            "description": "Описание бизнеса"
          },
          "workingHours": {
            "type": "object",
            "description": "Рабочие часы"
          }
        }
      },
      "CreateServiceDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Название услуги"
          },
          "durationMinutes": {
            "type": "number",
            "description": "Длительность услуги в минутах",
            "minimum": 1
          },
          "price": {
            "type": "number",
            "description": "Цена услуги",
            "minimum": 0
          },
          "bufferBefore": {
            "type": "number",
            "description": "Буферное время до услуги в минутах",
            "minimum": 0
          },
          "bufferAfter": {
            "type": "number",
            "description": "Буферное время после услуги в минутах",
            "minimum": 0
          },
          "color": {
            "type": "string",
            "description": "Цвет услуги"
          }
        },
        "required": [
          "title",
          "durationMinutes",
          "price"
        ]
      },
      "UpdateServiceDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Название услуги"
          },
          "durationMinutes": {
            "type": "number",
            "description": "Длительность услуги в минутах",
            "minimum": 1
          },
          "price": {
            "type": "number",
            "description": "Цена услуги",
            "minimum": 0
          },
          "bufferBefore": {
            "type": "number",
            "description": "Буферное время до услуги в минутах",
            "minimum": 0
          },
          "bufferAfter": {
            "type": "number",
            "description": "Буферное время после услуги в минутах",
            "minimum": 0
          },
          "color": {
            "type": "string",
            "description": "Цвет услуги"
          }
        }
      },
      "CreateStaffDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Имя сотрудника"
          },
          "phone": {
            "type": "string",
            "description": "Телефон сотрудника"
          },
          "serviceIds": {
            "description": "ID услуг, которые выполняет сотрудник",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateStaffDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Имя сотрудника"
          },
          "phone": {
            "type": "string",
            "description": "Телефон сотрудника"
          },
          "serviceIds": {
            "description": "ID услуг, которые выполняет сотрудник",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CreateBookingDto": {
        "type": "object",
        "properties": {
          "serviceId": {
            "type": "string",
            "description": "ID услуги"
          },
          "staffId": {
            "type": "string",
            "description": "ID сотрудника"
          },
          "startTs": {
            "type": "string",
            "description": "Время начала записи (ISO строка)"
          },
          "clientId": {
            "type": "string",
            "description": "ID клиента"
          },
          "client": {
            "type": "object",
            "description": "Данные клиента (если создается новый)"
          }
        },
        "required": [
          "serviceId",
          "staffId",
          "startTs"
        ]
      },
      "UpdateBookingDto": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "Статус записи",
            "enum": [
              "PENDING",
              "CONFIRMED",
              "CANCELLED",
              "COMPLETED",
              "NO_SHOW"
            ]
          }
        }
      },
      "CreateNotificationDto": {
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "string",
            "description": "ID записи"
          },
          "type": {
            "type": "string",
            "description": "Тип уведомления",
            "enum": [
              "SMS",
              "EMAIL",
              "VK"
            ]
          },
          "template": {
            "type": "string",
            "description": "Шаблон уведомления",
            "enum": [
              "BOOKING_CREATED",
              "BOOKING_CONFIRMED",
              "BOOKING_CANCELLED",
              "BOOKING_REMINDER"
            ]
          },
          "customMessage": {
            "type": "string",
            "description": "Пользовательское сообщение"
          }
        },
        "required": [
          "bookingId",
          "type",
          "template"
        ]
      },
      "CreateClientDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Имя клиента"
          },
          "phone": {
            "type": "string",
            "description": "Телефон клиента"
          },
          "email": {
            "type": "string",
            "description": "Email клиента"
          },
          "notes": {
            "type": "string",
            "description": "Заметки о клиенте"
          }
        },
        "required": [
          "name",
          "phone"
        ]
      },
      "UpdateClientDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Имя клиента"
          },
          "phone": {
            "type": "string",
            "description": "Телефон клиента"
          },
          "email": {
            "type": "string",
            "description": "Email клиента"
          },
          "notes": {
            "type": "string",
            "description": "Заметки о клиенте"
          }
        }
      },
      "CreateNotificationTemplateDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип шаблона",
            "enum": [
              "CONFIRM",
              "REMINDER",
              "CANCEL",
              "OTHER"
            ]
          },
          "channel": {
            "type": "string",
            "description": "Канал уведомления",
            "enum": [
              "SMS",
              "EMAIL",
              "VK"
            ]
          },
          "subject": {
            "type": "string",
            "description": "Тема сообщения"
          },
          "message": {
            "type": "string",
            "description": "Текст сообщения"
          },
          "isActive": {
            "type": "boolean",
            "description": "Активен ли шаблон"
          }
        },
        "required": [
          "type",
          "channel",
          "message"
        ]
      },
      "UpdateNotificationTemplateDto": {
        "type": "object",
        "properties": {
          "subject": {
            "type": "string",
            "description": "Тема сообщения"
          },
          "message": {
            "type": "string",
            "description": "Текст сообщения"
          },
          "isActive": {
            "type": "boolean",
            "description": "Активен ли шаблон"
          }
        }
      }
    }
  }
}